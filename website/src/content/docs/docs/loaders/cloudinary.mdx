---
title: Cloudinary Loader
description: Using Cloudinary Image Transformations with oh-image
---

The `useCloudinaryLoader` hook provides integration for Cloudinary-based image optimization.

## Usage

### 1. Per-Component Usage

You can use the hook directly within a component to create a loader for a specific image.

```tsx
import { Image, useCloudinaryLoader } from "@lonik/oh-image/react";

function MyComponent() {
  const loader = useCloudinaryLoader({
    path: "https://res.cloudinary.com/my-cloud-name",
    format: "auto",
  });

  return (
    <Image
      src="sample.jpg"
      width={800}
      height={600}
      loader={loader}
      alt="Processed via Cloudinary"
    />
  );
}
```

### 2. Global Configuration (Recommended)

To avoid repeating configuration, use `CloudinaryLoaderProvider` to set defaults for your entire application or a specific subtree.

```tsx
import { CloudinaryLoaderProvider, Image, useCloudinaryLoader } from "@lonik/oh-image/react";

function App() {
  return (
    // Set global defaults for Cloudinary images
    <CloudinaryLoaderProvider 
      path="https://res.cloudinary.com/my-cloud-name" 
      format="auto" 
      placeholder={true}
    >
      <UserProfile />
    </CloudinaryLoaderProvider>
  );
}

function UserProfile() {
  // Uses the globally configured loader automatically
  const loader = useCloudinaryLoader(); 
  
  return (
    <Image
      src="user_avatar.jpg"
      width={100}
      height={100}
      loader={loader}
      alt="Profile"
    />
  );
}
```

## Configuration Options

The `CloudinaryLoaderProvider` and `useCloudinaryLoader` hook accept the same options object:

| Property | Type | Default | Description |
| :--- | :--- | :--- | :--- |
| `path` | `string` | **Required** | The base URL for the Cloudinary account (e.g., `https://res.cloudinary.com/<cloud_name>`). |
| `format` | `string` | `'auto'` | The output format. `'auto'` uses Cloudinary's automatic format selection (`f_auto`). |
| `placeholder` | `boolean` | `true` | Whether to generate a low-quality placeholder. |
| `placeholderParams` | `Record<string, string>` | `{ e_blur: ":1000", q: "_1" }` | Transformation parameters for the placeholder image. |
| `params` | `Record<string, string>` | `undefined` | Additional processing parameters to append to the URL. |
| `breakpoints` | `number[]` | `undefined` | Custom breakpoints for responsive `srcSet`. |

> **Note:** For both `params` and `placeholderParams`, values must include the separator prefix (either `_` or `:`) because Cloudinary supports different parameter formats (e.g., `{ c: "_fill", e: ":blur" }`).

## URL Structure

This loader generates URLs using the Cloudinary URL structure:
`{path}/image/upload/{params}/{src}`

Where:
*   `path` is your Cloudinary base URL.
*   `params` is a comma-separated string of transformations (e.g., `f_auto,w_800`).
*   `src` is the image public ID or path (leading slashes are stripped).
