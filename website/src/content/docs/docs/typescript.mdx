---
title: TypeScript
description: TypeScript support and configuration for oh-image
---

oh-image is written in TypeScript, so you get full type safety and autocomplete out of the box for APIs.
however to get typescript intelissense to imports for vite optimizer you need to configure the project to use `@lonik/oh-image/client` Type definition.

## Add to the tsconfig include field

open `tsconfig.json` file and add `@lonik/oh-image/client' to the `include` field

```json
{
    ...
    "include": ["src", "@lonik/oh-image/client"]
}

```

now based on how you inject type definitions in your project, do one of the following

## (Option 1) Add to the tsconfig types array

```json
{
  "compilerOptions": {
    ...
     types:["@lonik/oh-image/client","vite/client"] // make sure the vite/client comes after oh-image/client
    ...
  },
  "include": ["src", "@lonik/oh-image/client"]
}
```

## (Option 2) Add to the vite-env.d.ts

if you use `vite-env.d.ts` for types add `@lonik/oh-image/client` as a triple slash directive

To add the type definition for the `?oh` import syntax, use one of the following options:

### Option 1: Using `vite-env.d.ts`

If your project has a `vite-env.d.ts` file (created by Vite's scaffolding), add a triple-slash reference:

```ts
/// <reference types="@lonik/oh-image/client" />
/// <reference types="vite/client" />
```

### Option 2: Using the `types` array in tsconfig.json

Add `@lonik/oh-image/client` to the `types` array in your `tsconfig.json`:

```json
{
  "compilerOptions": {
    "types": ["vite/client", "@lonik/oh-image/client"]
  }
}
```

you might need to restart TS server after the changes, in VS Code CMD+SHIFT+P Restart TS Server

## Showcase

after the configuration is finished you should get the proper intelisense on imports

```tsx
import CarImage from "./assets/car.jpg?$oh";

function App() {
  return <CarImage />; // full ts intelisense
}
```

## Important Caveat

To properly have an import client type definitions declare following pattern:
`declare module "*$oh"`
in short it means match any import that ends with `$oh`
as you will see later vite plugin can pass the parameters to customize optimization

```tsx
import CarImage from "./assets/car.jpg?blur=50&$oh";
```
now to have proper import type check here. the `$oh` suffix **must** be in the end of the import path.
You may ask why we haven't use two * wildcards to match anything that has $oh in it, but unfortunately 
only one wildcard is currently supported for declaring module. So we have to make this as it is
