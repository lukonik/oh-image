---
title: React Component
description: How to use the oh-image React component for optimized images
---

The `<Image>` component renders optimized images processed by the oh-image plugin.

```tsx
import { Image } from "@lonik/oh-image/react";
import photo from "./assets/photo.jpg?oh";

function App() {
  return <Image src={photo} alt="A photo" />;
}
```

## Props

| Prop             | Type                          | Required | Description                                |
| ---------------- | ----------------------------- | -------- | ------------------------------------------ |
| `src`            | `string \| ImageSrc`          | Yes      | Image source URL or optimized image object |
| `alt`            | `string`                      | Yes      | Alternative text for accessibility         |
| `placeholderUrl` | `string`                      | No       | Custom placeholder image URL               |
| `asap`           | `boolean`                     | No       | Load image immediately with high priority  |
| `fill`           | `boolean`                     | No       | Make image fill its container              |
| `width`          | `number`                      | No       | Image width in pixels                      |
| `height`         | `number`                      | No       | Image height in pixels                     |
| `sizes`          | `string`                      | No       | Responsive sizes attribute                 |
| `loading`        | `"lazy" \| "eager"`           | No       | Loading strategy                           |
| `decoding`       | `"async" \| "sync" \| "auto"` | No       | Decoding hint                              |
| `fetchPriority`  | `"high" \| "low" \| "auto"`   | No       | Fetch priority hint                        |
| `className`      | `string`                      | No       | CSS class name applied to the `img` element  |
| `srcSet`         | `string`                      | No       | Responsive image source set                  |
| `style`          | `CSSProperties`               | No       | Inline styles applied to the `img` element   |

---

## src

Accepts either a plain URL string or an `ImageSrc` object from the plugin.

When imported with `?oh`, the plugin returns an `ImageSrc` object with the optimized src, dimensions, srcSet, and placeholder URL — all applied automatically:

```tsx
import heroImage from "./assets/hero.jpg?oh";

<Image src={heroImage} alt="Hero" />;
```

When using a plain URL, provide `width` and `height` manually to prevent layout shift:

```tsx
<Image src="/images/photo.jpg" alt="Photo" width={800} height={600} />
```

---

## placeholderUrl

A URL for a low-resolution blurred image shown while the full image loads. When the plugin processes an image, a placeholder is generated and provided automatically via the `ImageSrc` object.

You can also pass a custom one:

```tsx
<Image src={photo} alt="Photo" placeholderUrl="/custom-placeholder.jpg" />
```

---

## asap

Uses sensible defaults to load the image as soon as possible. Use it for above-the-fold images such as:

- Hero banners
- Headline images
- Header logos
- Any image visible without scrolling

```tsx
<Image src={heroImage} alt="Hero banner" asap />
```

:::note
On React 19+, `asap` also calls `preload()` from React DOM to start fetching before the component renders.
:::

---

## fill

Stretches the image to 100% width and height of its parent. Sets `inset: 0` for absolute positioning and defaults `sizes` to `"100vw"`.

The parent must have `position: relative/absolute/fixed` and defined dimensions:

```tsx
<div style={{ position: "relative", width: "100%", aspectRatio: "16/9" }}>
  <Image src={banner} alt="Banner" fill />
</div>
```

---

## loading

Controls when the browser fetches the image. The value is derived automatically from other props, but can be overridden explicitly.

| Variant | `loading` value |
| ------- | --------------- |
| Default | `"lazy"` |
| `asap` | `"eager"` |
| Explicit `loading` prop (without `asap`) | provided value |

```tsx
{/* lazy — default */}
<Image src={photo} alt="Photo" />

{/* eager — set via asap */}
<Image src={heroImage} alt="Hero" asap />

{/* eager — set explicitly */}
<Image src={photo} alt="Photo" loading="eager" />
```

---

## sizes

Setting `sizes` correctly is important — it's what tells the browser how wide the image will actually be rendered, so it can pick the right variant from the srcSet without downloading a needlessly large one. In practice though, it's tedious to write and easy to get wrong.

The `<Image>` component does its best to help: when it determines it's appropriate, it automatically prepends [`auto`](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/img#auto) to the `sizes` value. This lets the browser use the image's actual rendered size for source selection, which is more accurate than a hand-written static hint.

If you need precise control over which source the browser picks at each breakpoint, pass your own `sizes`:

```tsx
<Image
  src={photo}
  alt="Photo"
  sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
/>
```

---

## Complete example

```tsx
import { Image } from "@lonik/oh-image/react";
import heroImage from "./assets/hero.jpg?oh";
import galleryImage from "./assets/gallery.jpg?oh";

function Page() {
  return (
    <div>
      {/* Hero: loads immediately, full width */}
      <div style={{ position: "relative", height: 500 }}>
        <Image src={heroImage} alt="Welcome to our site" fill asap />
      </div>

      {/* Gallery: lazy loads, responsive sizing */}
      <div className="grid grid-cols-3 gap-4">
        <Image
          src={galleryImage}
          alt="Gallery photo"
          sizes="(max-width: 768px) 100vw, 33vw"
          className="rounded-lg"
        />
      </div>
    </div>
  );
}
```
