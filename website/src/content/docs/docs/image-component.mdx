---
title: Image Component
description: Documentation for the Image component in oh-image
---

The `Image` component is a wrapper around the native `<img>` element that adds functionality.

## Overview

The `Image` component simplifies handling optimized images in React. It accepts the structured data object generated by the Vite plugin (imported with `?oh`) and automatically sets up `src`, `srcSet`, `width`, `height`, and placeholders.

```tsx
import { Image } from "@lonik/oh-image/react";
import myImage from "./assets/photo.jpg?oh";

export function App() {
  return (
    <div>
      <Image src={myImage} alt="A beautiful landscape" />
    </div>
  );
}
```

## Props

### `src`

**Type**: `string` | `ImageSrc` (required)

The source of the image. This can be:

1.  **An object**: The default export from an image imported with the `?oh` query. This is the recommended usage, as it automatically provides `width`, `height`, `srcSet`, and `placeholderUrl`.
2.  **A string**: A direct URL path. In this case, you may want to provide a `loader` or manually set `width`, `height`, etc.

### `alt`

**Type**: `string` (required)

Alternative text for the image. Required for accessibility. Use an empty string `""` for decorative images.

### `width` & `height`

**Type**: `number` (optional)

The intrinsic dimensions of the image.

- If `src` is an object (from `?oh`), these are automatically inferred.
- If provided manually, they override the inferred values.
- These attributes help prevent layout shift (CLS) by reserving space for the image before it loads.

### `fill`

**Type**: `boolean` (optional)

A boolean that causes the image to fill its parent container.

- Sets `width: 100%`, `height: 100%`, and `inset: 0`.
- Useful for background images or when you want the image to adapt entirely to a container's size.

### `priority`

**Type**: `boolean` (optional)

 Use this for critical images, such as the Largest Contentful Paint (LCP) element (e.g., hero images).

- Sets `loading="eager"`.
- Sets `fetchPriority="high"`.
- Sets `decoding="async"`.
- If supported (React 19+), inserts a `<link rel="preload">` tag to prioritize the resource.

### `placeholderUrl`

**Type**: `string` (optional)

A URL for a low-quality placeholder image.

- If `src` is an object from the plugin, this is automatically provided (if configured in Vite options).
- The placeholder is displayed as a background image while the main image loads.

### `loader`

**Type**: `(options: ImageLoaderOptions) => string` (optional)

A function to generate the image URL.

- Useful for using external image CDNs (Cloudinary, Imgproxy, etc.).
- Can be configured globally via `ImageProvider`.

### `breakpoints`

**Type**: `number[]` (optional)

An array of widths used to generate the `srcSet` when using a `loader`.

- Defaults to a wide range of standard device widths.
- If `src` is an object, the `srcSet` generated by the Vite plugin takes precedence.

### `sizes`

**Type**: `string` (optional)

The `sizes` attribute is critical for responsive images. It defines the size of the image on the screen, allowing the browser to select the best source from `srcSet`.

By default, the `Image` component tries to set the best possible size, but **this cannot be predicted automatically** for all layouts. You commonly have to set it manually to match your layout.

```tsx
<Image src={myImage} sizes="(max-width: 768px) 100vw, 50vw" />
```

### Standard Attributes

The component also accepts standard `<img>` attributes:

- `loading`: `"lazy" | "eager"` (Defaults to `"lazy"` unless `priority` is true).
- `decoding`: `"async" | "auto" | "sync"`.
- `fetchPriority`: `"high" | "low" | "auto"`.
- `className`, `style`

## Global Configuration

You can configure default settings for all `Image` components in your application using the `ImageProvider`.

Wrap your application (or a specific subtree) with `ImageProvider` to set defaults for `loading`, `breakpoints`, and `loader`.

```tsx
import { ImageProvider } from "@lonik/oh-image/react";

const customBreakpoints = [320, 640, 1024, 1920];

export function App() {
  return (
    <ImageProvider loading="lazy" breakpoints={customBreakpoints}>
      {/* Your app components */}
    </ImageProvider>
  );
}
```

This is particularly useful when using an external image service loader, allowing you to define the loader once globally.
